---
title: Email
description: A kind of val that is able to receive emails sent to it.
sidebar:
  order: 4
lastUpdated: 2024-05-09
---

import Val from "@components/Val.astro";

Email handler vals get their own email address that you can send email
to. When Val Town receives that email, it triggers the val with the email
as its first argument.

:::tip
Vals can send email, too! Using the [email function in the standard library](/std/email)
:::

## Type Signature

Email handlers receive an argument called `Email` that represents the email that was sent to the val. Here's an example of an email handler:

```ts title="Example"
export function emailHandler(email: Email) {
  console.log("Email received!", email.from, email.subject, email.text);
}
```

The `Email` type has this shape:

```ts
interface Email {
  from: string;
  to: string[];
  subject: string | undefined;
  text: string | undefined;
  html: string | undefined;
}
```

## Example

This val forwards any email it receives to me. Try it out by sending an email to `stevekrouse.forwarder@valtown.email`.

<Val url="https://www.val.town/embed/stevekrouse/forwarder" />

## Limitations

:::note[Attachements not supported]

Email handler vals do not support attachments. If they receive an email with an attachment, the attachment will be stripped. If this is something you want, please [upvote the feature request](https://github.com/val-town/val-town-product/discussions/75) to support attachments in email handler vals.

:::
